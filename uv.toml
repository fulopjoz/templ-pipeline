# SPDX-FileCopyrightText: 2025 TEMPL Team
# SPDX-License-Identifier: MIT

# UV Configuration for TEMPL Pipeline
# Optimizes dependency resolution and installation speed

[pip]
# Use fastest resolution strategy
resolution = "highest"

# Enable parallel downloads for maximum speed
concurrent-downloads = 10

# Use native TLS for faster SSL operations
native-tls = true

# Prefer binary wheels over source distributions
prefer-binary = true

# Enable link mode for faster local development
link-mode = "copy"

# Compile bytecode for faster imports
compile-bytecode = true

[cache]
# Use project-local cache for better reproducibility
dir = ".uv-cache"

# Keep cache for 30 days
ttl = 2592000

[index]
# Use PyPI with optimized settings
default-index = "https://pypi.org/simple"

# Enable index caching
cache-index = true

[build]
# Use pre-built wheels when available
prefer-binary = true

# Enable build isolation for reproducibility
build-isolation = true

# Use multiple cores for building from source (if needed)
jobs = 4

[resolver]
# Use latest compatible versions
strategy = "highest"

# Enable backtracking for better resolution
backtracking = true

# Prerelease handling
prerelease = "if-necessary"

[install]
# Reinstall strategy
reinstall = false

# Upgrade strategy  
upgrade = false

# Refresh package metadata
refresh = false
